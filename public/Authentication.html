<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Authentication</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ"
        crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
            crossorigin="anonymous"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
                crossorigin="anonymous"></script>
                <script src="https://www.gstatic.com/firebasejs/3.6.10/firebase.js"></script>
                <script src="/config.js"></script>
                <script>
                    firebase.initializeApp(config);

                    firebase.auth().onAuthStateChanged(function (user) {
                        if (user) {
                            user.providerData.forEach(function (profile) {
                                $(".list-group").append(' <li class="list-group-item"><img src="' + profile.photoURL + '" width="100" height="100" class="d-inline-block align-top rounded-circle" alt=""></li>');
                                $(".list-group").append(' <li class="list-group-item">ล๊อกอินด้วย : ' + profile.providerId + '</li>');
                                $(".list-group").append(' <li class="list-group-item">รหัส: ' + profile.uid + '</li>');
                                $(".list-group").append(' <li class="list-group-item">ชื่อ: ' + profile.displayName + '</li>');
                                $(".list-group").append(' <li class="list-group-item">Email: ' + (profile.email == null ? "ไม่มี" : profile.email) + '</li>');
                            });
                        } else {
                            window.location = "/index.html";
                        }
                    });
                </script>
                <style>
                    .list-group-item {
                        text-align: center
                    }
                </style>
</head>

<body>
    <div class="container">
        <div class="row justify-content-center">

            <div class="col-6">
                <div class="card">
                    <ul class="list-group list-group-flush">
                    </ul>
                </div>
            </div>

        </div>
    </div>

</body>

</html>